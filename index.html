<!DOCTYPE html>
<html lang="el">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Οδηγός Κέρκυρας 2025</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet"/>
  <style>
    .modal {
      position: fixed;
      inset: 0;
      background-color: rgba(0, 0, 0, 0.6);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 50;
    }
    .modal-content {
      background: white;
      padding: 1.5rem;
      border-radius: 0.5rem;
      max-width: 700px;
      max-height: 80vh;
      overflow-y: auto;
      position: relative;
    }
    .modal-close {
      position: absolute;
      top: 0.5rem;
      right: 0.75rem;
      font-size: 1.25rem;
      cursor: pointer;
    }
  </style>
</head>
<body class="bg-gray-100 text-gray-900">
  <header class="bg-green-800 text-white p-6 text-center">
    <h1 class="text-4xl font-bold">Οδηγός Κέρκυρας 2025</h1>
    <p class="mt-2 text-lg">Ανακαλύψτε τις καλύτερες εμπειρίες στο νησί</p>
  </header>

  <main class="p-6">
    <!-- Buttons -->
    <div class="flex flex-wrap justify-center gap-4 mb-6">
      <button onclick="showSection('benitses')" class="bg-green-700 hover:bg-green-800 text-white px-4 py-2 rounded">Μπενίτσες</button>
      <button onclick="showSection('beaches-overview')" class="bg-blue-700 hover:bg-blue-800 text-white px-4 py-2 rounded">Παραλίες</button>
    </div>

    <!-- Grid for Beaches -->
    <div id="beaches-overview" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6"></div>
  </main>

  <!-- Modal -->
  <div id="modal" class="modal hidden" onclick="hideModal(event)">
    <div class="modal-content" onclick="event.stopPropagation();">
      <span class="modal-close" onclick="hideModal(event)">✖</span>
      <div id="modal-body"></div>
    </div>
  </div>

  <!-- Hidden Template -->
  <template id="benitses">
    <div class="p-4">
      <h2 class="text-2xl font-bold mb-3">Μπενίτσες</h2>
      <p class="mb-3">Οι Μπενίτσες είναι ένα γραφικό παραθαλάσσιο χωριό στη νοτιοανατολική Κέρκυρα. Έχουν μακρά ιστορία και αποτελούν ιδανικό σημείο για εξερεύνηση.</p>
      <ul class="list-disc list-inside text-gray-700">
        <li><strong>Πεζοπορίες:</strong> 3km, 5km, 8km, 10km γύρω από το παλιό χωριό</li>
        <li><strong>Εστιατόρια:</strong> Paxinos, Klimataria, Avra On The Beach</li>
        <li><strong>Αξιοθέατα:</strong> Παλιό Χωριό, Λιμανάκι, Ρωμαϊκά Λουτρά</li>
        <li><strong>Εκκλησίες:</strong> Αγ. Νικόλαος, Αγ. Παρασκευή, Παντοκράτωρ</li>
      </ul>
    </div>
  </template>

  <!-- JavaScript -->
  <script>
    function showSection(sectionId) {
      const template = document.getElementById(sectionId);
      if (template) {
        document.getElementById("modal-body").innerHTML = template.innerHTML;
        document.getElementById("modal").classList.remove("hidden");
      }
    }

    function hideModal(event) {
      if (event.target.id === "modal" || event.target.classList.contains("modal-close")) {
        document.getElementById("modal").classList.add("hidden");
        document.getElementById("modal-body").innerHTML = "";
      }
    }

    function openBeachModal(beach) {
      const html = `
        <h2 class="text-xl font-bold mb-2">${beach.name}</h2>
        <img src="${beach.image}" alt="${beach.name}" class="mb-3 rounded shadow">
        <p>${beach.description}</p>
        <ul class="list-disc list-inside mt-2 text-sm text-gray-700">
          <li><strong>Τοποθεσία:</strong> ${beach.location}</li>
          <li><strong>Απόσταση από Μπενίτσες:</strong> ${beach.distance}</li>
          <li><strong>Χαρακτηριστικά:</strong> ${beach.features}</li>
          <li><strong>Beach Bars:</strong> ${beach.beachBars}</li>
          <li><strong>Επισκεψιμότητα:</strong> ${beach.visitorType}</li>
          <li><strong>Φαγητό:</strong> ${beach.foodTips}</li>
        </ul>`;
      document.getElementById("modal-body").innerHTML = html;
      document.getElementById("modal").classList.remove("hidden");
    }

    // Load beach data
    fetch("data/beachDetails.json")
      .then(response => response.json())
      .then(data => {
        const container = document.getElementById("beaches-overview");
        data.beaches.forEach(beach => {
          const div = document.createElement("div");
          div.className = "cursor-pointer";
          div.innerHTML = `
            <img src="${beach.image}" alt="${beach.name}" class="rounded shadow mb-2 w-full h-48 object-cover">
            <h3 class="text-lg font-semibold text-center">${beach.name}</h3>`;
          div.onclick = () => openBeachModal(beach);
          container.appendChild(div);
        });
      })
      .catch(() => {
        document.getElementById("beaches-overview").innerHTML = "<p class='text-red-500'>Σφάλμα φόρτωσης παραλιών.</p>";
      });
  </script>
</body>
</html>
