<!DOCTYPE html>
<html lang="el">
<head>
  <meta charset="UTF-8">
  <title>Corfu 2025 Guide</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { font-family: Arial, sans-serif; margin: 0; background: #f0f4f8; }
    h2 { margin-top: 0; }
    header { background: #004080; color: white; padding: 1em; text-align: center; }
    .tabs { display: flex; justify-content: center; background: #e0e0e0; }
    .tabs button {
      background: none; border: none; padding: 1em; cursor: pointer;
      font-weight: bold; transition: background 0.3s;
    }
    .tabs button:hover, .tabs button.active { background: #c0c0c0; }
    .section { display: none; padding: 2em; }
    .section.active { display: block; }
    .card-container { display: flex; flex-wrap: wrap; gap: 20px; justify-content: center; }
    .card {
      width: 220px; background: white; border-radius: 8px; overflow: hidden;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1); cursor: pointer; transition: transform 0.2s;
    }
    .card:hover { transform: scale(1.03); }
    .card img { width: 100%; height: 150px; object-fit: cover; }
    .card h3 { padding: 0.5em; font-size: 1.1em; }

    /* Modal */
    .modal { display: none; position: fixed; top: 0; left: 0; width: 100%;
      height: 100%; background: rgba(0,0,0,0.6); justify-content: center; align-items: center; }
    .modal-content {
      background: white; padding: 1.5em; border-radius: 8px; max-width: 500px;
      position: relative;
    }
    .modal-content h3 { margin-top: 0; }
    .close-modal {
      position: absolute; top: 10px; right: 15px; font-size: 20px;
      background: none; border: none; cursor: pointer;
    }

    @media (max-width: 600px) {
      .card { width: 90%; }
    }
  </style>
</head>
<body>
  <header><h1>Corfu 2025 – Διαδραστικός Οδηγός</h1></header>

  <div class="tabs">
    <button class="tab-btn active" data-section="corfu-town">Πόλη της Κέρκυρας</button>
    <button class="tab-btn" data-section="benitses">Μπενίτσες</button>
    <button class="tab-btn" data-section="beaches">Παραλίες</button>
  </div>

  <div id="corfu-town" class="section active">
    <h2>Πόλη της Κέρκυρας</h2>
    <div id="corfu-town-content">Φόρτωση περιεχομένου...</div>
  </div>

  <div id="benitses" class="section">
    <h2>Μπενίτσες</h2>
    <div id="benitses-content">Φόρτωση περιεχομένου...</div>
  </div>

  <div id="beaches" class="section">
    <h2>Παραλίες</h2>
    <div class="card-container" id="beach-gallery">Φόρτωση...</div>
  </div>

  <!-- Modal -->
  <div class="modal" id="beach-modal">
    <div class="modal-content">
      <button class="close-modal" id="close-modal">&times;</button>
      <h3 id="modal-title"></h3>
      <p id="modal-desc"></p>
    </div>
  </div>

  <script>
    // Tabs
    const tabButtons = document.querySelectorAll(".tab-btn");
    const sections = document.querySelectorAll(".section");
    tabButtons.forEach(btn => {
      btn.addEventListener("click", () => {
        tabButtons.forEach(b => b.classList.remove("active"));
        sections.forEach(s => s.classList.remove("active"));
        btn.classList.add("active");
        document.getElementById(btn.dataset.section).classList.add("active");
      });
    });

    // Load Benitses
    fetch("data/Mpenitses.json")
      .then(res => res.json())
      .then(data => {
        const el = document.getElementById("benitses-content");
        el.innerHTML = data.description;
      });

    // Load Corfu Town
    fetch("data/corfuTown.json")
      .then(res => res.json())
      .then(data => {
        const el = document.getElementById("corfu-town-content");
        el.innerHTML = data.description;
      });

    // Load Beaches
    fetch("data/beachDetails.json")
      .then(res => res.json())
      .then(data => {
        const container = document.getElementById("beach-gallery");
        container.innerHTML = "";
        data.beaches.forEach(beach => {
          const card = document.createElement("div");
          card.className = "card";
          card.innerHTML = `
            <img src="${beach.image}" alt="${beach.name}">
            <h3>${beach.name}</h3>`;
          card.addEventListener("click", () => {
            document.getElementById("modal-title").innerText = beach.name;
            document.getElementById("modal-desc").innerText = beach.description;
            document.getElementById("beach-modal").style.display = "flex";
          });
          container.appendChild(card);
        });
      });

    // Modal close
    document.getElementById("close-modal").onclick = () => {
      document.getElementById("beach-modal").style.display = "none";
    };
    window.onclick = e => {
      if (e.target == document.getElementById("beach-modal")) {
        document.getElementById("beach-modal").style.display = "none";
      }
    };
  </script>
</body>
</html>
